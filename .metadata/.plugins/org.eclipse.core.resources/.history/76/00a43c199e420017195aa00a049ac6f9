package com.student.test;

import org.junit.Before;
import org.junit.Test;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.springframework.jdbc.core.JdbcTemplate;

import com.student.model.Student;
import com.student.service.StudentService;

public class T {
	private ApplicationContext ac;
	private JdbcTemplate jdbcTemplate;

	public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {
		this.jdbcTemplate = jdbcTemplate;
	}

	@Before
	public void setUp() throws Exception {
		ac = new ClassPathXmlApplicationContext("beans.xml");
	}
	
	@Test
	public void add(){
//		StudentService studentService = (StudentService) ac.getBean("studentService");
//		int addNums = studentService.addStudent(new Student("李四",1));
		String sql = "insert into student values(null,?,?)";
		Student student = new Student("李四",1);
		Object []params = new Object[]{student.getName(),student.getAge()};
		int addNums = jdbcTemplate.update(sql, params);
		System.out.println(addNums);
	}
}
